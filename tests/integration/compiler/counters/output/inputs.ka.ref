%def: "seed" "442310228"
%def: "dumpIfDeadlocked" "true"
%def: "maxConsecutiveClash" "3"
%def: "progressBarSize" "70"
%def: "progressBarSymbol" "#"
%def: "plotPeriod" "1" "t.u."
%def: "outputFileName" "data.csv"


%agent: A(x{u p}[x.B] c{=0/+=3} d{=1/+=2})
%agent: B(x[x.A] c{=0/+=3})

%var:/*0*/ 'A1' |A(x{u}[.] c{>=1})|
%var:/*1*/ 'A2' |A(x{u}[.] c{=1})|
%plot: [T]
%plot: A1
%plot: A2

'r1' B(x[./1]), A(x[./1]) @ 1
'r2__320' B(x[./1] c{=3}), A(x[./1] c{=0} d{=2}) @ (((3 + 2) + 0) * 0.1)
'r2__321' B(x[./1] c{=3}), A(x[./1] c{=1} d{=2}) @ (((3 + 2) + 1) * 0.1)
'r2__322' B(x[./1] c{=3}), A(x[./1] c{=2} d{=2}) @ (((3 + 2) + 2) * 0.1)
'r2__323' B(x[./1] c{=3}), A(x[./1] c{=3} d{=2}) @ (((3 + 2) + 3) * 0.1)
'r2__310' B(x[./1] c{=3}), A(x[./1] c{=0} d{=1}) @ (((3 + 1) + 0) * 0.1)
'r2__311' B(x[./1] c{=3}), A(x[./1] c{=1} d{=1}) @ (((3 + 1) + 1) * 0.1)
'r2__312' B(x[./1] c{=3}), A(x[./1] c{=2} d{=1}) @ (((3 + 1) + 2) * 0.1)
'r2__313' B(x[./1] c{=3}), A(x[./1] c{=3} d{=1}) @ (((3 + 1) + 3) * 0.1)
'r2__220' B(x[./1] c{=2}), A(x[./1] c{=0} d{=2}) @ (((2 + 2) + 0) * 0.1)
'r2__221' B(x[./1] c{=2}), A(x[./1] c{=1} d{=2}) @ (((2 + 2) + 1) * 0.1)
'r2__222' B(x[./1] c{=2}), A(x[./1] c{=2} d{=2}) @ (((2 + 2) + 2) * 0.1)
'r2__223' B(x[./1] c{=2}), A(x[./1] c{=3} d{=2}) @ (((2 + 2) + 3) * 0.1)
'r2__210' B(x[./1] c{=2}), A(x[./1] c{=0} d{=1}) @ (((2 + 1) + 0) * 0.1)
'r2__211' B(x[./1] c{=2}), A(x[./1] c{=1} d{=1}) @ (((2 + 1) + 1) * 0.1)
'r2__212' B(x[./1] c{=2}), A(x[./1] c{=2} d{=1}) @ (((2 + 1) + 2) * 0.1)
'r2__213' B(x[./1] c{=2}), A(x[./1] c{=3} d{=1}) @ (((2 + 1) + 3) * 0.1)
'r2__120' B(x[./1] c{=1}), A(x[./1] c{=0} d{=2}) @ (((1 + 2) + 0) * 0.1)
'r2__121' B(x[./1] c{=1}), A(x[./1] c{=1} d{=2}) @ (((1 + 2) + 1) * 0.1)
'r2__122' B(x[./1] c{=1}), A(x[./1] c{=2} d{=2}) @ (((1 + 2) + 2) * 0.1)
'r2__123' B(x[./1] c{=1}), A(x[./1] c{=3} d{=2}) @ (((1 + 2) + 3) * 0.1)
'r2__110' B(x[./1] c{=1}), A(x[./1] c{=0} d{=1}) @ (((1 + 1) + 0) * 0.1)
'r2__111' B(x[./1] c{=1}), A(x[./1] c{=1} d{=1}) @ (((1 + 1) + 1) * 0.1)
'r2__112' B(x[./1] c{=1}), A(x[./1] c{=2} d{=1}) @ (((1 + 1) + 2) * 0.1)
'r2__113' B(x[./1] c{=1}), A(x[./1] c{=3} d{=1}) @ (((1 + 1) + 3) * 0.1)
'r2__020' B(x[./1] c{=0}), A(x[./1] c{=0} d{=2}) @ (((0 + 2) + 0) * 0.1)
'r2__021' B(x[./1] c{=0}), A(x[./1] c{=1} d{=2}) @ (((0 + 2) + 1) * 0.1)
'r2__022' B(x[./1] c{=0}), A(x[./1] c{=2} d{=2}) @ (((0 + 2) + 2) * 0.1)
'r2__023' B(x[./1] c{=0}), A(x[./1] c{=3} d{=2}) @ (((0 + 2) + 3) * 0.1)
'r2__010' B(x[./1] c{=0}), A(x[./1] c{=0} d{=1}) @ (((0 + 1) + 0) * 0.1)
'r2__011' B(x[./1] c{=0}), A(x[./1] c{=1} d{=1}) @ (((0 + 1) + 1) * 0.1)
'r2__012' B(x[./1] c{=0}), A(x[./1] c{=2} d{=1}) @ (((0 + 1) + 2) * 0.1)
'r2__013' B(x[./1] c{=0}), A(x[./1] c{=3} d{=1}) @ (((0 + 1) + 3) * 0.1)
'r3' A(x{u/p}[.] c{>=0/+=2}) @ 1
'r4' A(x{u/p}[.] c{>=2/+=-2}) @ 0.1
'r4bis' A(x{u/p}[.] c{>=2/+=-2}) @ 0.1
'r4_' B(x[1/.] c{>=1/+=-1}), A(x[1/.] c{>=1/+=-1}) @ 1
'r5' A(x{u/p}[.] c{=3/+=-1}) @ 1
'r6' B(x[1/.]), A(x[1/.] c{=1/+=3}) @ 1
'r7' B(x[1/.] c{=2/+=2}), A(x[1/.] c{=1/+=3}) @ 1
'r8' B(x[1/.]), A(x[1/.] c{=1/+=3} d{=2/+=2}) @ 1
'r9' A(x{u/p}[.] c{>=1/+=2}) @ 1
'r10' A(x{u}[.]), A(x{u}[.] c{=0} d{=2})+ @ 1
'r11' A(x{u}[.] c{=1} d{=2})+ @ 1
'r12' B(x[1/.]), A(x[1/.] c{=3/+=-2}), A(x{u}[.] c{=2} d{=1})+ @ 1
'r12bis' A(x{u}[.] c{=2} d{=1})+, A(x{u}[.] c{=1} d{=1})+ @ 1
'get_zero' A(x{u/p}[.] c{>=0/+=1}) @ 1
'r14' A(x{u}[.] c{=2} d[#])- @ 1
'r15' A(x{u}[.] c{=2} d[#])-, A(x{u}[.] c{>=1}) @ 1
'r16' A(x{u}[.] c{=2} d[#])-, A(x{u}[.] c{=1} d{=1})+ @ 1

/*0*/%mod: (|B(c{>=4})| = 1) do $PRINTF ""; $PRINTF "Counter c of agent B reached maximum"; $STOP "counter_perturbation.ka"; repeat [false]
/*1*/%mod: (|A(d{>=3})| = 1) do $PRINTF ""; $PRINTF "Counter d of agent A reached maximum"; $STOP "counter_perturbation.ka"; repeat [false]
/*2*/%mod: (|A(c{>=4})| = 1) do $PRINTF ""; $PRINTF "Counter c of agent A reached maximum"; $STOP "counter_perturbation.ka"; repeat [false]

%init: 10 A(x{u}[.] c{=0} d{=1})
%init: 10 B(x[.] c{=0})

%mod: [E] = 23 do $STOP;
